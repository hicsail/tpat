{"ast":null,"code":"const express = require(\"express\");\n\nconst AWS = require(\"aws-sdk\");\n\nconst s3 = new AWS.S3({\n  region: \"us-east-2\"\n});\n\nconst {\n  v4: uuidv4\n} = require(\"uuid\");\n\nconst cors = require(\"cors\");\n\nconst app = express();\napp.use(cors());\napp.get(\"/get-signed-url\", async (req, res) => {\n  await s3.createPresignedPost({\n    Fields: {\n      key: uuidv4()\n    },\n    Conditions: [[\"starts-with\", \"$Content-Type\", \"web3/\"], [\"content-length-range\", 0, 1000000]],\n    Expires: 30,\n    Bucket: \"tpat\"\n  }, (err, signed) => {\n    res.json(signed);\n  });\n});\napp.listen(8080);","map":{"version":3,"names":["express","require","AWS","s3","S3","region","v4","uuidv4","cors","app","use","get","req","res","createPresignedPost","Fields","key","Conditions","Expires","Bucket","err","signed","json","listen"],"sources":["/Users/so._.may._.see._.macy/Desktop/tpat/src/index.js"],"sourcesContent":["const express = require(\"express\");\nconst AWS = require(\"aws-sdk\");\nconst s3 = new AWS.S3({\n  region: \"us-east-2\",\n});\nconst { v4: uuidv4 } = require(\"uuid\");\nconst cors = require(\"cors\");\n\nconst app = express();\n\napp.use(cors());\n\napp.get(\"/get-signed-url\", async (req, res) => {\n  await s3.createPresignedPost(\n    {\n      Fields: {\n        key: uuidv4(),\n      },\n      Conditions: [\n        [\"starts-with\", \"$Content-Type\", \"web3/\"],\n        [\"content-length-range\", 0, 1000000],\n      ],\n      Expires: 30,\n      Bucket: \"tpat\",\n    },\n    (err, signed) => {\n      res.json(signed);\n    }\n  );\n});\n\napp.listen(8080);\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,SAAD,CAAnB;;AACA,MAAME,EAAE,GAAG,IAAID,GAAG,CAACE,EAAR,CAAW;EACpBC,MAAM,EAAE;AADY,CAAX,CAAX;;AAGA,MAAM;EAAEC,EAAE,EAAEC;AAAN,IAAiBN,OAAO,CAAC,MAAD,CAA9B;;AACA,MAAMO,IAAI,GAAGP,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAMQ,GAAG,GAAGT,OAAO,EAAnB;AAEAS,GAAG,CAACC,GAAJ,CAAQF,IAAI,EAAZ;AAEAC,GAAG,CAACE,GAAJ,CAAQ,iBAAR,EAA2B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC7C,MAAMV,EAAE,CAACW,mBAAH,CACJ;IACEC,MAAM,EAAE;MACNC,GAAG,EAAET,MAAM;IADL,CADV;IAIEU,UAAU,EAAE,CACV,CAAC,aAAD,EAAgB,eAAhB,EAAiC,OAAjC,CADU,EAEV,CAAC,sBAAD,EAAyB,CAAzB,EAA4B,OAA5B,CAFU,CAJd;IAQEC,OAAO,EAAE,EARX;IASEC,MAAM,EAAE;EATV,CADI,EAYJ,CAACC,GAAD,EAAMC,MAAN,KAAiB;IACfR,GAAG,CAACS,IAAJ,CAASD,MAAT;EACD,CAdG,CAAN;AAgBD,CAjBD;AAmBAZ,GAAG,CAACc,MAAJ,CAAW,IAAX"},"metadata":{},"sourceType":"module"}